@use './common/typography.scss';

.puik-sidebar {
  @extend .puik-sidebar-default;
  @apply relative z-10 w-[20.5rem] sm:w-[13.125rem] h-full bg-white border-r border-primary-300;
  transition: width 0.2s ease-out;

  &__header {
    @apply bg-primary-200 w-full flex justify-end;

    .puik-sidebar__header__button {
      &:hover {
        @apply bg-primary-300;
        .puik-icon {
          @apply text-blue-700 text-xl;
        }
      }
    }

    &--mobile {
      @apply justify-start;
    }
  }

  &__content {
    @apply px-2 pt-4;
  }

  &--collapsed {
    @apply w-[3.312rem];

    .puik-sidebar__header__button {
      @apply w-full;
    }

    .puik-sidebar__content {
      @apply px-0;
    }

    .puik-sidebar-item__button {
      @apply w-full flex items-center justify-start px-4;
    }
  }

  &--mobile {
    @apply w-0;
  }

  &__backdrop {
    @apply w-screen h-screen bg-primary-800/50 absolute top-0 left-0 z-0;
  }

  &__transition {
    &__enter,
    &__leave {
      &--active {
        @apply transition duration-200 ease-out;
      }
    }

    &__enter--from,
    &__leave--to {
      @apply -translate-x-[20.5rem] sm:-translate-x-[13.125rem] opacity-0;
    }
  }
}

.puik-sidebar-item {
  @extend .puik-body-default;
  @apply w-full border-none;

  &--active {
    .puik-button--text {
      @apply text-blue-700 font-bold;
    }
  }

  &__button {
    @apply px-2 py-4 sm:py-2 justify-start font-normal text-left;
    height: unset;

    &:hover {
      @apply bg-primary-300;
    }
  }

  &--focus {
    @apply bg-primary-300;
  }
}

.puik-sidebar-group-item {
  @extend .puik-body-default;
  @apply border-none relative;

  .puik-accordion {
    @apply text-primary border-none;
    &__header {
      @apply py-4 px-2 sm:py-2;

      &:hover {
        @apply bg-primary-300;
      }

      &__content {
        &__title {
          @extend .puik-body-default;
          @apply font-normal;
        }
      }

      &__icon {
        @apply mr-2 leading-5 text-primary;
        font-size: 1.25rem !important;
      }
      &__expand__icon {
        @apply text-primary;
        font-size: 1.25rem !important;
      }
    }
    &__content {
      @apply py-0 px-0 ml-0;

      .puik-button {
        @apply px-4;
      }
    }

    &--expanded {
      @apply bg-primary-200;
    }
  }

  &__menu-button {
    @apply w-full;
  }

  &__collapsed-button {
    @apply flex items-center justify-start py-4 sm:py-2;
    height: unset;
  }

  &__menu-content {
    @apply absolute z-[999] left-[3.312rem] top-0 w-[20.5rem] bg-primary-200 sm:w-[13.125rem];

    .puik-sidebar-item__button {
      @apply px-4 py-2;
    }
  }

  &--active {
    .puik-accordion {
      &__header {
        @apply text-blue-700 bg-primary-200;

        &__content {
          &__title {
            @apply text-blue-700 font-bold;
          }
        }

        &__icon {
          @apply text-blue-700;
        }
        &__expand__icon {
          @apply text-blue-700;
        }
      }
    }

    .puik-sidebar-group-item__collapsed-button {
      @apply bg-primary-200;
    }

    .puik-icon {
      @apply text-blue-700;
    }
  }
}

.puik-sidebar-title {
  @extend .puik-body-default;
  @apply text-primary-600 font-bold px-2 py-2;
}
